---
import { Icon } from "astro-icon/components";
import UniversityCard from "./UniversityCard.astro";
import { getAllUniversities } from "@/lib/fetch/universities";
import { routes } from "@/lib/routes";

const universitiesRes = await getAllUniversities();
const universities = universitiesRes.data;
---

<section class="section-university">
  <div class="section-container">
    <div class="section-header">
      <h2 class="section-title">Popular Universities</h2>
      <a href={routes.UNIVERSITIES} class="view-all-btn">
        View All Universities
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"></path>
        </svg>
      </a>
    </div>

    <div class="section-inner">
      {
        universities?.map((university) => {
          return <UniversityCard universityCardData={university} />;
        })
      }
    </div>
  </div>
</section>
