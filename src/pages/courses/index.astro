---
import "../../styles/universities.scss";

import Layout from "../../layouts/Layout.astro";
import CoursesFilter from "../../components/Svelte/Filters/CoursesFilter.svelte";
import CoursesList from "../../components/Svelte/CoursesList.svelte";

const pageTitle = "Study Abroad Courses & Programs | StudyAbroadNP";
const pageDescription = "Explore thousands of courses and programs offered by top universities worldwide. Find the perfect course for your career goals.";
---

<Layout
	title={pageTitle}
	description={pageDescription}
	mainClass="universities-main"
>
	<!-- Main Content Area -->
	<section class="universities-content">
		<div class="content-container">
			<!-- Mobile Filter Toggle -->
			<div class="mobile-filter-header">
				<button class="filter-toggle-btn" id="filterToggle">
					<span>Filters</span>
					<span class="filter-count" id="filterCount">0</span>
				</button>
				<div class="results-summary">
					<span>All Courses</span>
				</div>
			</div>

			<!-- Content Grid -->
			<div class="universities-grid">
				<!-- Sidebar Filters -->
				<aside class="filters-sidebar" id="filtersSidebar">
					<div class="filters-header">
						<h2>Filters</h2>
						<button class="clear-filters-btn" id="clearFilters">Clear All</button>
					</div>
					<CoursesFilter client:load />
				</aside>

				<!-- Courses List -->
				<main class="universities-main-content">
					<div class="universities-list-container">
						<CoursesList client:load />
					</div>
				</main>
			</div>
		</div>
	</section>

	<!-- Overlay for mobile filters -->
	<div class="filter-overlay" id="filterOverlay"></div>

	<script>
		// Mobile filter toggle functionality
		document.addEventListener('DOMContentLoaded', function() {
			const filterToggle = document.getElementById('filterToggle');
			const filtersSidebar = document.getElementById('filtersSidebar');
			const filterOverlay = document.getElementById('filterOverlay');
			
			// Toggle filters on mobile
			filterToggle?.addEventListener('click', function() {
				filtersSidebar?.classList.toggle('active');
				filterOverlay?.classList.toggle('active');
				document.body.classList.toggle('filter-open');
			});

			// Close filters when clicking overlay
			filterOverlay?.addEventListener('click', function() {
				filtersSidebar?.classList.remove('active');
				filterOverlay?.classList.remove('active');
				document.body.classList.remove('filter-open');
			});
		});
	</script>
</Layout>
